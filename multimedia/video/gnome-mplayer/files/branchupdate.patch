Index: src/libgmtk/gmtk_media_player.c
===================================================================
--- src/libgmtk/gmtk_media_player.c	(revision 2133)
+++ src/libgmtk/gmtk_media_player.c	(revision 2136)
@@ -67,7 +67,8 @@
 {
     GmtkMediaPlayerEvent *event = (GmtkMediaPlayerEvent *) data;
 
-    if (event->event_name != NULL && event->player->restart == FALSE) {
+    if (event && event->event_name != NULL 
+        && (event->player->restart == FALSE || event->event_data_int == ATTRIBUTE_AF_EXPORT_FILENAME)) {
         if (g_strcasecmp(event->event_name, "position-changed") == 0 ||
             g_strcasecmp(event->event_name, "cache-percent-changed") == 0) {
             g_signal_emit_by_name(event->player, event->event_name, event->event_data_double);
@@ -2550,7 +2551,6 @@
 
         if (strstr(mplayer_output->str, "AO:") != NULL) {
             write_to_mplayer(player, "get_property switch_audio\n");
-            create_event_int(player, "attribute-changed", ATTRIBUTE_AF_EXPORT_FILENAME);
         }
 
         if (strstr(mplayer_output->str, "VO:") != NULL) {
@@ -2573,6 +2573,7 @@
                 create_event_int(player, "audio-tracks-changed", g_list_length(player->audio_tracks));
                 create_event_double(player, "cache-percent-changed", 0.0);
             }
+			create_event_int(player, "attribute-changed", ATTRIBUTE_AF_EXPORT_FILENAME);
         }
 
         if (strstr(mplayer_output->str, "Video: no video") != NULL) {
@@ -2591,6 +2592,7 @@
                 create_event_int(player, "audio-tracks-changed", g_list_length(player->audio_tracks));
                 create_event_double(player, "cache-percent-changed", 0.0);
             }
+			create_event_int(player, "attribute-changed", ATTRIBUTE_AF_EXPORT_FILENAME);
         }
 
         if (strstr(mplayer_output->str, "ANS_TIME_POSITION") != 0) {
Index: src/gui.c
===================================================================
--- src/gui.c	(revision 2133)
+++ src/gui.c	(revision 2136)
@@ -4755,6 +4755,7 @@
                 gtk_tree_model_get(gmtk_output_combo_box_get_tree_model
                                    (GMTK_OUTPUT_COMBO_BOX(config_ao)), &ao_iter, OUTPUT_DESCRIPTION_COLUMN, &desc, -1);
 
+				//printf("audio_device_name = %s, desc = %s\n",audio_device_name, desc);
                 if (audio_device_name != NULL && strcmp(audio_device_name, desc) == 0) {
                     gtk_combo_box_set_active_iter(GTK_COMBO_BOX(config_ao), &ao_iter);
                     g_free(desc);
Index: po/tr.po
===================================================================
--- po/tr.po	(revision 2133)
+++ po/tr.po	(revision 2136)
@@ -8,8 +8,8 @@
 "Project-Id-Version: tr\n"
 "Report-Msgid-Bugs-To: \n"
 "POT-Creation-Date: 2011-05-31 10:03-0600\n"
-"PO-Revision-Date: 2011-03-19 22:14+0000\n"
-"Last-Translator: Mehmet Berkil <Unknown>\n"
+"PO-Revision-Date: 2011-06-13 13:41+0300\n"
+"Last-Translator: Onur Küçük <onur@pardus.org.tr>\n"
 "Language-Team: Turkish <turkce@pardus.org.tr>\n"
 "Language: tr\n"
 "MIME-Version: 1.0\n"
@@ -17,7 +17,7 @@
 "Content-Transfer-Encoding: 8bit\n"
 "Plural-Forms: nplurals=2; plural=1;\n"
 "X-Launchpad-Export-Date: 2011-06-09 16:08+0000\n"
-"X-Generator: Launchpad (build 13175)\n"
+"X-Generator: Lokalize 1.0\n"
 
 #: src/main.c:49
 msgid "Window to embed in"
@@ -402,11 +402,6 @@
 "51 Franklin St, Fifth Floor\n"
 "Boston, MA 02110-1301 USA"
 msgstr ""
-"Gnome MPlayer ücretsiz bir yazılımdır; Free Software Foundation tarafından "
-"yayınlanan\n"
-"Gnu General Public License'ın ikinci sürümüne yada daha yeni herhangi bir "
-"sürümündeki\n"
-"koşullara göre  dağıtılabilir ve/veya değiştirilebilir."
 
 #: src/gui.c:3365
 msgid "Set AudioFile"
@@ -439,7 +434,7 @@
 #: src/libgmtk/gmtk_media_player.c:2782 src/libgmtk/gmtk_media_player.c:2812
 #, c-format
 msgid "Unknown"
-msgstr ""
+msgstr "Bilinmeyen"
 
 #: src/gui.c:4009 src/nautilus_property_page.c:359
 msgid "Video Codec:"
@@ -463,7 +458,7 @@
 
 #: src/gui.c:4063
 msgid "Audio Format:"
-msgstr ""
+msgstr "Ses Biçimi:"
 
 #: src/gui.c:4076 src/nautilus_property_page.c:402
 msgid "Audio Codec:"
@@ -547,15 +542,15 @@
 
 #: src/gui.c:4402
 msgid "Exact Match"
-msgstr ""
+msgstr "Aynısı"
 
 #: src/gui.c:4405
 msgid "Load all subtitles containing movie name"
-msgstr ""
+msgstr "Film adını içeren tüm altyazıları yükle"
 
 #: src/gui.c:4408
 msgid "Load all subtitles in the same folder"
-msgstr ""
+msgstr "Dizin içindeki tüm altyazıları yükle"
 
 #: src/gui.c:4631
 msgid "Player"
@@ -1373,12 +1368,12 @@
 
 #: src/libgmtk/gmtk_media_player.c:511
 msgid "framedropping"
-msgstr ""
+msgstr "kare atlama"
 
 #: src/libgmtk/gmtk_media_player.c:731
 #, c-format
 msgid "Loading..."
-msgstr ""
+msgstr "Yükleniyor..."
 
 #: src/libgmtk/gmtk_media_player.c:2411
 #, c-format
@@ -1398,7 +1393,7 @@
 #: src/libgmtk/gmtk_media_player.c:2729
 #, c-format
 msgid "External Subtitle #%i"
-msgstr ""
+msgstr "Harici Altyazı #%i"
 
 #: src/libgmtk/gmtk_media_player.c:2912
 #, c-format
@@ -1412,12 +1407,12 @@
 #: src/libgmtk/gmtk_media_player.c:2974
 #, c-format
 msgid "MPlayer should be Upgraded to a Newer Version"
-msgstr ""
+msgstr "MPlayer daha yeni bir sürüme güncellenmeli"
 
 #: src/libgmtk/gmtk_media_player.c:3172
 #, c-format
 msgid "You might want to consider upgrading mplayer to a newer version\n"
-msgstr ""
+msgstr "MPlayer'ı daha yeni bir sürüme güncellemeyi düşünmelisiniz\n"
 
 #~ msgid "Media Change"
 #~ msgstr "Medya Değişikliği"
Index: ChangeLog
===================================================================
--- ChangeLog	(revision 2133)
+++ ChangeLog	(revision 2136)
@@ -1,4 +1,7 @@
 Development
+    Move notification of export filename to occur later
+    Track export filename across mplayer restarts
+    Updated Turkish translation
 1.0.4b2
     Update translations from launchpad
     Add Vietnamese translation
