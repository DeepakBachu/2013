<?xml version="1.0" ?>
<!DOCTYPE PISI SYSTEM "http://www.pardus.org.tr/projeler/pisi/pisi-spec.dtd">
<PISI>
    <Source>
        <Name>module-init-tools</Name>
        <Homepage>http://www.kernel.org/pub/linux/kernel/people/rusty/modules</Homepage>
        <Packager>
            <Name>Ozan Çağlayan</Name>
            <Email>ozan@pardus.org.tr</Email>
        </Packager>
        <License>GPLv2</License>
        <IsA>app:console</IsA>
        <Summary>Kernel module tools for 2.6.* series kernels</Summary>
        <Description>The module-init-tools are a set of programs for loading, inserting, and removing Kernel Modules for Linux (versions 2.5.48 and above).It serves the same function that the modutils package serves for Linux 2.4. They are necessary because starting with 2.5.51, modules are handled differently.</Description>
        <Archive sha1sum="caf70188c85370936626027ae5b5a9258cc851f9" type="tarbz2">http://www.kernel.org/pub/linux/utils/kernel/module-init-tools/module-init-tools-3.12.tar.bz2</Archive>
        <BuildDependencies>
            <Dependency>zlib</Dependency>
        </BuildDependencies>
        <Patches>
            <Patch level="1">add-newconfig-to-config-filter.patch</Patch>
            <Patch level="1">dont-check-docbook.patch</Patch>
        </Patches>
    </Source>

    <Package>
        <Name>module-init-tools</Name>
        <RuntimeDependencies>
            <Dependency>zlib</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="executable">/bin</Path>
            <Path fileType="executable">/sbin</Path>
            <Path fileType="config">/etc</Path>
            <!-- Distribution decisions, so we should always squeeze these blacklist files -->
            <Path fileType="data">/etc/modprobe.d/blacklist*</Path>
            <Path fileType="doc">/usr/share/doc</Path>
            <Path fileType="man">/usr/share/man</Path>
        </Files>
        <AdditionalFiles>
            <!-- Blacklist files
                 These files are basically grabbed from Ubuntu Jaunty and merged into the current Pardus blacklist ones. -->
             <AdditionalFile owner="root" permission="0644" target="/etc/modprobe.d/blacklist.conf">blacklist/blacklist.conf</AdditionalFile>
             <AdditionalFile owner="root" permission="0644" target="/etc/modprobe.d/blacklist-firewire.conf">blacklist/blacklist-firewire.conf</AdditionalFile>
             <AdditionalFile owner="root" permission="0644" target="/etc/modprobe.d/blacklist-framebuffer.conf">blacklist/blacklist-framebuffer.conf</AdditionalFile>
             <AdditionalFile owner="root" permission="0644" target="/etc/modprobe.d/blacklist-watchdog.conf">blacklist/blacklist-watchdog.conf</AdditionalFile>

            <!-- Grabbed from Fedora -->
            <AdditionalFile owner="root" permission="0644" target="/etc/modprobe.d/modprobe.conf">modprobe.conf</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/etc/depmod.d/depmod.conf">depmod.conf</AdditionalFile>

            <!-- Pregenerated man pages, update if necessary. -->
            <AdditionalFile owner="root" permission="0644" target="/usr/share/man/man5/modprobe.d.5">man/modprobe.d.5</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/man/man5/depmod.conf.5">man/depmod.conf.5</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/man/man5/modprobe.conf.5">man/modprobe.conf.5</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/man/man5/modules.dep.5">man/modules.dep.5</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/man/man8/depmod.8">man/depmod.8</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/man/man8/insmod.8">man/insmod.8</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/man/man8/modinfo.8">man/modinfo.8</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/man/man8/modprobe.8">man/modprobe.8</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/man/man8/rmmod.8">man/rmmod.8</AdditionalFile>
        </AdditionalFiles>
        <Provides>
            <!-- FIXME: This backend needs a complete rewrite dude -->
            <COMAR script="backend.py">Boot.Modules</COMAR>
            <COMAR script="pakhandler.py">System.PackageHandler</COMAR>
        </Provides>
    </Package>

    <History>
        <Update release="1">
            <Date>2010-06-09</Date>
            <Version>3.12</Version>
            <Comment>Version bump to 3.12</Comment>
            <Name>Ozan Çağlayan</Name>
            <Email>ozan@pardus.org.tr</Email>
        </Update>
    </History>
</PISI>
