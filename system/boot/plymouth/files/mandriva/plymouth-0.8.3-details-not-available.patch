From 473d18d4c4080cf946e7f5d29be6595e338ec3a6 Mon Sep 17 00:00:00 2001
From: Frederic Crozat <fcrozat@mandriva.com>
Date: Wed, 26 May 2010 17:48:29 +0200
Subject: [PATCH] do not exit if details plugin isn't available, try without it

---
 src/main.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/src/main.c b/src/main.c
index 05b6769..b059d07 100644
--- a/src/main.c
+++ b/src/main.c
@@ -176,6 +176,9 @@ on_update (state_t     *state,
 static void
 show_messages (state_t *state)
 {
+  if (state->boot_splash == NULL)
+      return;
+
   ply_list_node_t *node = ply_list_get_first_node (state->messages);
   while (node != NULL)
     {
@@ -202,8 +205,7 @@ show_detailed_splash (state_t *state)
 
   if (state->boot_splash == NULL)
     {
-      ply_trace ("Could not start detailed splash screen, exiting");
-      exit (1);
+      ply_trace ("Could not start detailed splash screen, trying without it");
     }
 }
 
-- 
1.7.1

